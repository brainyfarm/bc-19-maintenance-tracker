extends ../userarea
 
block content
  //- a(href="/requests/new") Submit Request

  .mdl-grid
    table.mdl-cell.mdl-cell--12-col.mdl-data-table.mdl-js-data-table.mdl-shadow--2dp
      thead
        tr
          th ID
          th.mdl-data-table__cell--non-numeric Description
          th Type
          th Data created
          th Status
          th Approved
          th Actions
      tbody
        each request, i in requests
          tr
            td= request.id
            td.mdl-data-table__cell--non-numeric= request.description
            td= request.type
            td= moment(request.createdAt).format('MMM Do YY')
            td= request.status
            td
              button.mdl-button.mdl-js-button.mdl-button--icon.mdl-button--colored
                i.material-icons= ( request.approved ? 'check' : 'clear')
            td.actions
              a.mdl-button.mdl-js-button.mdl-button--icon.mdl-button--colored(href=(`/requests/${request.id}\/edit`) id=('edit' + i))
                i.material-icons edit
                .mdl-tooltip(data-mdl-for=('edit' + i))
                  | Edit
              form(action=(`/requests/${request.id}?_method=DELETE`) method="post" style="display:inline")
                button.mdl-button.mdl-js-button.mdl-button--icon.mdl-button--colored(id=('delete' + i))
                  i.material-icons delete
                .mdl-tooltip(data-mdl-for=('delete' + i))
                  | Delete


  a.app-button--fab.mdl-button.mdl-js-button.mdl-button--fab.mdl-button--colored.mdl-js-ripple-effect(href="/requests/new")
    i.material-icons add
